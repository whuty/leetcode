class Solution {
public:
    int strStr(string haystack, string needle) {
        if(needle.empty()) return 0;
        if(haystack.empty()) return -1;

        int j, M = needle.length();
        int i, N = haystack.length();

        for(i = 0, j = 0; i < N && j < M; i++){
            
            if(haystack[i] == needle[j]) j++;
            else {i -= j; j = 0;}

        }
        if (j == M) return i - M;
        else return -1;
    }
};